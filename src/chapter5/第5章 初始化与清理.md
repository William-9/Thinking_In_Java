# 第5章 初始化与清理

## 5.1用构造器确保初始化

​	构造器是一种特殊类型的方法，因为它没有返回值，这与返回值为空（void）明显不同。对于空返回值，尽管方法本身不会自动返回什么，但仍可选择让它返回别的东西。



## 5.2方法重载

```java
public class Tree {
    int height;
    Tree() {
        System.out.println("Planting a seeding");
        height = 0;
    }
    Tree(int initialHeight) {
        height = initialHeight;
        System.out.println("Creating new Tree that is" + height + " feet tall");
    }
    void info() {
        System.out.println("Tree is " + height + " feet tall");
    }
    void info(String s) {
        System.out.println(s + ":Tree is " + height + " feet tall");
    }
}
public class Overloading {
    public static void main(String[] args) {
        for (int i = 0; i < 5; i++) {
            Tree t = new Tree(i);
            t.info();
            t.info("overloaded method");
        }
        new Tree();
    }
}
//output
Creating new Tree that is 0 feet tall
Tree is 0 feet tall
overloaded method:Tree is 0 feet tall
Creating new Tree that is 1 feet tall
Tree is 1 feet tall
overloaded method:Tree is 1 feet tall
Creating new Tree that is 2 feet tall
Tree is 2 feet tall
overloaded method:Tree is 2 feet tall
Creating new Tree that is 3 feet tall
Tree is 3 feet tall
overloaded method:Tree is 3 feet tall
Creating new Tree that is 4 feet tall
Tree is 4 feet tall
overloaded method:Tree is 4 feet tall
Planting a seeding

```



### 5.2.2 涉及基本类型的重载

①如果传入类型小于方法中声明的形式参数类型，实际数据类型就会被提升。

②char型略有不同，如果无法找到恰好接收char型参数的方法，就会把char型直接提升至int型。

### 5.2.3 以返回值区分重载方法

①根据返回值来区分重载方法是行不通的。

```java
void f(){}
int f(){}

f();
```

比如上面的例子，编译器就无法判断调用哪个方法。

## 5.3 默认构造器

①默认构造器是没有形式参数的构造器，在没有定构造器时，编译器会自动定义一个，但是如果自定义了一个构造器（无论是否有参数），编译器都不再自动创建默认构造器。

## 5.4 this关键字

```java
public class Person {
    public void eat(Apple apple){
        Apple peeled = apple.getPeeled();
        System.out.println("Yummy");
    }
}

public class Peeler {
    static Apple peel (Apple apple){
        return apple;
    }
}

public class Apple {
    Apple getPeeled(){
        return Peeler.peel(this);
    }
}

public class PassingThis {
    public static void main(String[] args) {
        new Person().eat(new Apple());
    }
}

//output
Yummy
```



-------------------------------------------------------------------2018 10.31 上午08:33---------------------------------------------------------------